function cov_25iz5icxhl(){var path="/Users/robertpringle/Documents/GitHub/Individual-Project/src/backend/routes/verifyToken.js";var hash="feeba18052d1e734cb5f8929336c7da19ca0e01b";var global=new Function("return this")();var gcv="__coverage__";var coverageData={path:"/Users/robertpringle/Documents/GitHub/Individual-Project/src/backend/routes/verifyToken.js",statementMap:{"0":{start:{line:1,column:17},end:{line:1,column:40}},"1":{start:{line:3,column:0},end:{line:20,column:2}},"2":{start:{line:5,column:23},end:{line:5,column:47}},"3":{start:{line:6,column:22},end:{line:6,column:46}},"4":{start:{line:7,column:2},end:{line:7,column:82}},"5":{start:{line:7,column:37},end:{line:7,column:82}},"6":{start:{line:9,column:2},end:{line:19,column:3}},"7":{start:{line:10,column:4},end:{line:14,column:5}},"8":{start:{line:11,column:6},end:{line:11,column:72}},"9":{start:{line:13,column:6},end:{line:13,column:73}},"10":{start:{line:15,column:4},end:{line:15,column:24}},"11":{start:{line:16,column:4},end:{line:16,column:11}},"12":{start:{line:18,column:4},end:{line:18,column:42}}},fnMap:{"0":{name:"(anonymous_0)",decl:{start:{line:3,column:17},end:{line:3,column:18}},loc:{start:{line:3,column:43},end:{line:20,column:1}},line:3}},branchMap:{"0":{loc:{start:{line:7,column:2},end:{line:7,column:82}},type:"if",locations:[{start:{line:7,column:2},end:{line:7,column:82}},{start:{line:7,column:2},end:{line:7,column:82}}],line:7},"1":{loc:{start:{line:7,column:6},end:{line:7,column:35}},type:"binary-expr",locations:[{start:{line:7,column:6},end:{line:7,column:19}},{start:{line:7,column:23},end:{line:7,column:35}}],line:7},"2":{loc:{start:{line:10,column:4},end:{line:14,column:5}},type:"if",locations:[{start:{line:10,column:4},end:{line:14,column:5}},{start:{line:10,column:4},end:{line:14,column:5}}],line:10}},s:{"0":0,"1":0,"2":0,"3":0,"4":0,"5":0,"6":0,"7":0,"8":0,"9":0,"10":0,"11":0,"12":0},f:{"0":0},b:{"0":[0,0],"1":[0,0],"2":[0,0]},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"feeba18052d1e734cb5f8929336c7da19ca0e01b"};var coverage=global[gcv]||(global[gcv]={});if(!coverage[path]||coverage[path].hash!==hash){coverage[path]=coverageData;}var actualCoverage=coverage[path];{// @ts-ignore
cov_25iz5icxhl=function(){return actualCoverage;};}return actualCoverage;}cov_25iz5icxhl();const webtoken=(cov_25iz5icxhl().s[0]++,require("jsonwebtoken"));cov_25iz5icxhl().s[1]++;module.exports=function(req,res,next){cov_25iz5icxhl().f[0]++;var verified;const refreshToken=(cov_25iz5icxhl().s[2]++,req.body['refreshToken']);const accessToken=(cov_25iz5icxhl().s[3]++,req.cookies.access_token);cov_25iz5icxhl().s[4]++;if((cov_25iz5icxhl().b[1][0]++,!refreshToken)&&(cov_25iz5icxhl().b[1][1]++,!accessToken)){cov_25iz5icxhl().b[0][0]++;cov_25iz5icxhl().s[5]++;return res.status(401).send("Access Denied");}else{cov_25iz5icxhl().b[0][1]++;}cov_25iz5icxhl().s[6]++;try{cov_25iz5icxhl().s[7]++;if(accessToken){cov_25iz5icxhl().b[2][0]++;cov_25iz5icxhl().s[8]++;verified=webtoken.verify(accessToken,process.env.TOKEN_SECRET);}else{cov_25iz5icxhl().b[2][1]++;cov_25iz5icxhl().s[9]++;verified=webtoken.verify(refreshToken,process.env.TOKEN_SECRET);}cov_25iz5icxhl().s[10]++;req.user=verified;cov_25iz5icxhl().s[11]++;next();}catch(err){cov_25iz5icxhl().s[12]++;res.status(400).send("Invalid Token");}};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInZlcmlmeVRva2VuLmpzIl0sIm5hbWVzIjpbIndlYnRva2VuIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXEiLCJyZXMiLCJuZXh0IiwidmVyaWZpZWQiLCJyZWZyZXNoVG9rZW4iLCJib2R5IiwiYWNjZXNzVG9rZW4iLCJjb29raWVzIiwiYWNjZXNzX3Rva2VuIiwic3RhdHVzIiwic2VuZCIsInZlcmlmeSIsInByb2Nlc3MiLCJlbnYiLCJUT0tFTl9TRUNSRVQiLCJ1c2VyIiwiZXJyIl0sIm1hcHBpbmdzIjoiaXFFQWVZOzJGQWZaLEtBQU1BLENBQUFBLFFBQVEsMEJBQUdDLE9BQU8sQ0FBQyxjQUFELENBQVYsQ0FBZCxDLHdCQUVBQyxNQUFNLENBQUNDLE9BQVAsQ0FBaUIsU0FBVUMsR0FBVixDQUFlQyxHQUFmLENBQW9CQyxJQUFwQixDQUEwQix5QkFDekMsR0FBSUMsQ0FBQUEsUUFBSixDQUNBLEtBQU1DLENBQUFBLFlBQVksMEJBQUdKLEdBQUcsQ0FBQ0ssSUFBSixDQUFTLGNBQVQsQ0FBSCxDQUFsQixDQUNBLEtBQU1DLENBQUFBLFdBQVcsMEJBQUdOLEdBQUcsQ0FBQ08sT0FBSixDQUFZQyxZQUFmLENBQWpCLENBSHlDLHdCQUl6QyxHQUFJLDZCQUFDSixZQUFELCtCQUFpQixDQUFDRSxXQUFsQixDQUFKLENBQW1DLDBEQUFPTCxDQUFBQSxHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixlQUFyQixDQUFQLENBQTZDLENBQWhGLGlDQUp5Qyx3QkFNekMsR0FBSSx5QkFDRixHQUFJSixXQUFKLENBQWdCLG9EQUNkSCxRQUFRLENBQUdQLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQkwsV0FBaEIsQ0FBNkJNLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUF6QyxDQUFYLENBQ0QsQ0FGRCxJQUVPLG9EQUNMWCxRQUFRLENBQUdQLFFBQVEsQ0FBQ2UsTUFBVCxDQUFnQlAsWUFBaEIsQ0FBOEJRLE9BQU8sQ0FBQ0MsR0FBUixDQUFZQyxZQUExQyxDQUFYLENBQ0QsQ0FMQyx5QkFNRmQsR0FBRyxDQUFDZSxJQUFKLENBQVdaLFFBQVgsQ0FORSx5QkFPRkQsSUFBSSxHQUNMLENBQUMsTUFBT2MsR0FBUCxDQUFZLDBCQUNaZixHQUFHLENBQUNRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQixlQUFyQixFQUNELENBQ0YsQ0FqQkQiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB3ZWJ0b2tlbiA9IHJlcXVpcmUoXCJqc29ud2VidG9rZW5cIik7XG5cbm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciB2ZXJpZmllZDtcbiAgY29uc3QgcmVmcmVzaFRva2VuID0gcmVxLmJvZHlbJ3JlZnJlc2hUb2tlbiddXG4gIGNvbnN0IGFjY2Vzc1Rva2VuID0gcmVxLmNvb2tpZXMuYWNjZXNzX3Rva2VuO1xuICBpZiAoIXJlZnJlc2hUb2tlbiAmJiAhYWNjZXNzVG9rZW4pIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZChcIkFjY2VzcyBEZW5pZWRcIik7XG5cbiAgdHJ5IHtcbiAgICBpZiAoYWNjZXNzVG9rZW4pe1xuICAgICAgdmVyaWZpZWQgPSB3ZWJ0b2tlbi52ZXJpZnkoYWNjZXNzVG9rZW4sIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVCk7IFxuICAgIH0gZWxzZSB7XG4gICAgICB2ZXJpZmllZCA9IHdlYnRva2VuLnZlcmlmeShyZWZyZXNoVG9rZW4sIHByb2Nlc3MuZW52LlRPS0VOX1NFQ1JFVCk7XG4gICAgfVxuICAgIHJlcS51c2VyID0gdmVyaWZpZWQ7XG4gICAgbmV4dCgpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXMuc3RhdHVzKDQwMCkuc2VuZChcIkludmFsaWQgVG9rZW5cIik7XG4gIH1cbn07XG4iXX0=